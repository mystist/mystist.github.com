I"¼<p>ä¸Šä»£ç ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">$</span> <span class="p">){</span>
 
  <span class="kd">var</span> <span class="nx">methods</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">init</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span> <span class="p">{</span> 
      <span class="c1">// THIS </span>
    <span class="p">},</span>
    <span class="na">show</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span> <span class="p">)</span> <span class="p">{</span>
      <span class="c1">// IS</span>
    <span class="p">},</span>
    <span class="na">hide</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span> <span class="p">)</span> <span class="p">{</span> 
      <span class="c1">// GOOD</span>
    <span class="p">},</span>
    <span class="na">update</span> <span class="p">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">content</span> <span class="p">)</span> <span class="p">{</span> 
      <span class="c1">// !!! </span>
    <span class="p">}</span>
  <span class="p">};</span>
 
  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">tooltip</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">method</span> <span class="p">)</span> <span class="p">{</span>
     
    <span class="c1">// Method calling logic</span>
    <span class="k">if</span> <span class="p">(</span> <span class="nx">methods</span><span class="p">[</span><span class="nx">method</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">methods</span><span class="p">[</span> <span class="nx">method</span> <span class="p">].</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span> <span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">method</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span> <span class="o">||</span> <span class="o">!</span> <span class="nx">method</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">methods</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span> <span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span> <span class="dl">'</span><span class="s1">Method </span><span class="dl">'</span> <span class="o">+</span>  <span class="nx">method</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> does not exist on jQuery.tooltip</span><span class="dl">'</span> <span class="p">);</span>
    <span class="p">}</span>    
   
  <span class="p">};</span>
 
<span class="p">})(</span> <span class="nx">jQuery</span> <span class="p">);</span>
 
<span class="p">});</span>
 
<span class="c1">// calls the init method</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">).</span><span class="nx">tooltip</span><span class="p">();</span> 
 
<span class="c1">// calls the init method</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">).</span><span class="nx">tooltip</span><span class="p">({</span>
  <span class="na">foo</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span>
<span class="p">});</span>
 
<span class="c1">// calls the hide method</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">).</span><span class="nx">tooltip</span><span class="p">(</span><span class="dl">'</span><span class="s1">hide</span><span class="dl">'</span><span class="p">);</span> 
 
<span class="c1">// calls the update method</span>
<span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">).</span><span class="nx">tooltip</span><span class="p">(</span><span class="dl">'</span><span class="s1">update</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">This is the new tooltip content!</span><span class="dl">'</span><span class="p">);</span> 
</code></pre></div></div>

<p>ä»¥ä¸Šä»£ç æ˜¯å®˜æ–¹jQuery Pluginså¼€å‘æä¾›çš„å¼€å‘æ–‡æ¡£ä¸Šçš„ä¸€ä¸ªä¾‹å­ã€‚ï¼ˆå‚è§ï¼š<a href="http://docs.jquery.com/Plugins/Authoring">http://docs.jquery.com/Plugins/Authoring</a>ï¼‰</p>

<p>è¿™é‡Œä¸»è¦æ˜¯å¯¹ç¬¬22è¡Œä»£ç çš„ç†è§£ï¼š
return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ));</p>

<p>é¦–å…ˆæ˜¯Array.prototype.slice.call( arguments, 1)è¿™ä¸ªæ–¹æ³•ï¼Œå‰é¢è¿™ä¸€æ®µå®é™…ä¸Šåªæ˜¯å•çº¯çš„å¯¹sliceæ–¹æ³•çš„è°ƒç”¨ï¼Œç„¶åé€šè¿‡callè®¾ç½®å…¶æ‰§è¡Œæ—¶çš„ä½œç”¨åŸŸã€‚æˆ‘ä»¬çŸ¥é“Arrayæ˜¯JSé»˜è®¤çš„å¼•ç”¨ç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œè€Œæ¯ä¸ªå¼•ç”¨ç±»å‹éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œå®é™…ä¸Šprototypeæ‰æ˜¯ä¿å­˜å®ƒä»¬æ‰€æœ‰å®ä¾‹æ–¹æ³•çš„çœŸæ­£æ‰€åœ¨ã€‚ï¼ˆæœ‰äººå¯èƒ½ä¼šç–‘é—®ï¼Œä¸ºä»€ä¹ˆè®¿é—®å®ä¾‹åŒ–ä¹‹åçš„å¯¹è±¡çš„prototypeé‡Œé¢çš„æ–¹æ³•çš„æ—¶å€™ä¸èƒ½åŠ .prototypeï¼Œè€Œè¿™é‡Œè®¿é—®Arrayè¿™ç§å†…ç½®å¯¹è±¡çš„prototypeä¸‹é¢çš„æ–¹æ³•çš„æ—¶å€™è¦åŠ .prototypeã€‚å¥½å§ï¼Œå…ˆè®°ä½è¿™ä¸ªè§„åˆ™ï¼Œå…·ä½“çš„åŸå› å¯ä»¥å‚çœ‹ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬ä¸‰ç‰ˆï¼‰ã€‹ç¬¬148é¡µçš„è§£é‡Šï¼‰
callæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡argumentsï¼Œå³è®¾ç½®å…¶æ‰§è¡Œæ—¶çš„ä½œç”¨åŸŸä¸ºargumentså¯¹è±¡ï¼›ç¬¬äºŒä¸ªå‚æ•°1å®é™…ä¸Šæ˜¯è¦ä¼ ç»™sliceæ–¹æ³•çš„å‚æ•°ï¼Œæˆ‘ä»¬çŸ¥é“sliceæ–¹æ³•æ˜¯ä»ä½ç½®0å¼€å§‹æ£€ç´¢çš„ï¼Œè€Œæˆ‘ä»¬è°ƒç”¨æ’ä»¶çš„æ—¶å€™ï¼Œå¦‚ï¼š$(â€˜divâ€™).tooltip(â€˜updateâ€™, â€˜This is the new tooltip content!â€™); å®é™…ä¸Šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„æ–¹æ³•åï¼Œç¬¬äºŒä¸ªå‚æ•°æ‰æ˜¯æˆ‘ä»¬æƒ³è¦ä¼ å…¥çš„å‚æ•°ã€‚sliceæ‰§è¡Œä¹‹åï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ­£å¥½ä½œä¸ºapplyçš„ç¬¬äºŒä¸ªå‚æ•°ä¼ è¿‡å»ã€‚</p>

<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå½“æ’ä»¶çš„è°ƒç”¨æ–¹å¼æ˜¯ï¼š</p>
<ol>
  <li>
    <p>$(â€˜divâ€™).tooltip();<br />
ç¬¬22è¡Œä»£ç ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºif()é‡Œé¢çš„åˆ¤æ–­æ¡ä»¶ä¸ºfalseï¼›</p>
  </li>
  <li>
    <p>$(â€˜divâ€™).tooltip(â€˜hideâ€™);<br />
ç¬¬22è¡Œä»£ç å®é™…ä¸Šå°±æ˜¯ï¼š<br />
return methods[â€˜hideâ€™].apply( this, [] );<br />
methods[ method ]å®é™…ä¸Šæ˜¯è®¿é—®å¯¹è±¡å±æ€§çš„å¦ä¸€ç§å½¢å¼ï¼Œæ¢æˆä¸€ç§æˆ‘ä»¬ç†Ÿæ‚‰çš„å½¢å¼å°±å¥½ç†è§£äº†ï¼š<br />
return methods.hide.apply( this, [] );</p>
  </li>
  <li>
    <p>$(â€˜divâ€™).tooltip(â€˜updateâ€™, â€˜This is the new tooltip content!â€™);<br />
ç¬¬22è¡Œä»£ç å®é™…ä¸Šå°±æ˜¯ï¼š<br />
return methods.update.apply( this, [â€˜This is the new tooltip content!â€™] );</p>
  </li>
</ol>
:ET